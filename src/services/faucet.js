const _0x4fc7ef=_0x7d93;(function(_0x1ea1f7,_0x31ee13){const _0x38ea7b=_0x7d93,_0x329bad=_0x1ea1f7();while(!![]){try{const _0x4cc877=-parseInt(_0x38ea7b(0x191))/0x1+parseInt(_0x38ea7b(0x198))/0x2+parseInt(_0x38ea7b(0x1b5))/0x3+-parseInt(_0x38ea7b(0x1ac))/0x4*(-parseInt(_0x38ea7b(0x1b6))/0x5)+-parseInt(_0x38ea7b(0x1b9))/0x6+-parseInt(_0x38ea7b(0x1c1))/0x7*(-parseInt(_0x38ea7b(0x1be))/0x8)+-parseInt(_0x38ea7b(0x19e))/0x9;if(_0x4cc877===_0x31ee13)break;else _0x329bad['push'](_0x329bad['shift']());}catch(_0x327805){_0x329bad['push'](_0x329bad['shift']());}}}(_0x2775,0x6804c));const axios=require('axios'),fs=require('fs'),path=require(_0x4fc7ef(0x1b3)),FormData=require(_0x4fc7ef(0x1bf)),WebSocket=require('ws'),{colorText,COLORS}=require('../utils/dashboard'),SESSION_FILE=path[_0x4fc7ef(0x1c4)](__dirname,_0x4fc7ef(0x19f)),COOLDOWN_PERIOD_MS=0x18*0x3c*0x3c*0x3e8;function _0x2775(){const _0x5a990b=['toLowerCase','payload_json','1356665931056808211','parse','utf8','path','stringify','1380720dGPvsN','425QlCfEd','1308368864505106442','message','5018322jTlvqR','writeFileSync','Discord\x20token\x20expired,\x20please\x20re-new\x20your\x20token!','Faucet\x20channelId\x20is\x20not\x20configured\x20for\x20','call','8HknNAM','form-data','lastClaim','474481EEMoeG','https://discord.com/api/v9/interactions','status','resolve','append','number','Error\x20loading\x20or\x20migrating\x20session.json:\x20','session_id','Sepolia','faucet','1356609826230243469','data','existsSync','284826cMgdpN','name','send','RED','hasOwnProperty','wss://gateway.discord.gg/?v=9&encoding=json','addLog','1313928lAfCFL','now','1356665931056808212','lastClaims','YELLOW','readFileSync','4358061WxCpPy','../utils/sessions.json','Discord\x20token\x20is\x20missing.','sessionId','Failed\x20to\x20save\x20session.json:\x20','toString','response','linux','floor','Faucet\x20claim\x20failed:\x20','error','Faucet\x20for\x20','open','object','39836rkFHiW','\x20is\x20on\x20cooldown.\x20Try\x20again\x20in\x20'];_0x2775=function(){return _0x5a990b;};return _0x2775();}let sessions={};function saveSessions(){const _0x1ebbb5=_0x4fc7ef;try{fs[_0x1ebbb5(0x1ba)](SESSION_FILE,JSON['stringify'](sessions,null,0x2));}catch(_0x593be9){console[_0x1ebbb5(0x1a8)](colorText(_0x1ebbb5(0x1a2)+_0x593be9[_0x1ebbb5(0x1b8)],COLORS[_0x1ebbb5(0x194)]));}}try{if(fs[_0x4fc7ef(0x190)](SESSION_FILE)){sessions=JSON[_0x4fc7ef(0x1b1)](fs[_0x4fc7ef(0x19d)](SESSION_FILE,_0x4fc7ef(0x1b2)));let needsSave=![];for(const token in sessions){if(Object['prototype'][_0x4fc7ef(0x195)][_0x4fc7ef(0x1bd)](sessions,token)){const sessionData=sessions[token];if(sessionData&&typeof sessionData[_0x4fc7ef(0x19b)]===_0x4fc7ef(0x189)){const oldTimestamp=sessionData[_0x4fc7ef(0x19b)];sessionData[_0x4fc7ef(0x19b)]={},sessionData['lastClaims'][_0x4fc7ef(0x18c)]=oldTimestamp,needsSave=!![];}sessionData&&sessionData['lastClaim']!==undefined&&((!sessionData[_0x4fc7ef(0x19b)]||typeof sessionData[_0x4fc7ef(0x19b)]!==_0x4fc7ef(0x1ab))&&(sessionData['lastClaims']={}),sessionData[_0x4fc7ef(0x19b)][_0x4fc7ef(0x18c)]=sessionData[_0x4fc7ef(0x1c0)],delete sessionData[_0x4fc7ef(0x1c0)],needsSave=!![]);}}needsSave&&(console['log'](colorText('Old\x20session\x20format\x20detected.\x20Converting\x20to\x20new\x20format\x20and\x20saving...',COLORS[_0x4fc7ef(0x19c)])),saveSessions());}}catch(_0x1aed47){console[_0x4fc7ef(0x1a8)](colorText(_0x4fc7ef(0x18a)+_0x1aed47[_0x4fc7ef(0x1b8)],COLORS['RED'])),sessions={};}async function getSessionId(_0x36cdc4){const _0x24e081=_0x4fc7ef;if(sessions[_0x36cdc4]&&sessions[_0x36cdc4]['sessionId'])return sessions[_0x36cdc4][_0x24e081(0x1a1)];const _0x26ebbc=new WebSocket(_0x24e081(0x196));return new Promise((_0x15ba3d,_0x23579a)=>{const _0x260a35=_0x24e081;_0x26ebbc['on'](_0x260a35(0x1aa),()=>{const _0x462023=_0x260a35;_0x26ebbc[_0x462023(0x193)](JSON['stringify']({'op':0x2,'d':{'token':_0x36cdc4,'properties':{'os':_0x462023(0x1a5),'browser':'chrome','device':''}}}));}),_0x26ebbc['on'](_0x260a35(0x1b8),_0x45d2d8=>{const _0x668c7d=_0x260a35,_0x3e5bd5=JSON[_0x668c7d(0x1b1)](_0x45d2d8);if(_0x3e5bd5['t']==='READY'&&_0x3e5bd5['d']?.['session_id']){if(!sessions[_0x36cdc4])sessions[_0x36cdc4]={};sessions[_0x36cdc4]['sessionId']=_0x3e5bd5['d'][_0x668c7d(0x18b)],saveSessions(),_0x26ebbc['close'](),_0x15ba3d(_0x3e5bd5['d']['session_id']);}}),_0x26ebbc['on']('error',_0x23579a),setTimeout(()=>_0x23579a(new Error('WebSocket\x20timeout')),0x2710);});}function _0x7d93(_0x7a0ac3,_0x8a997b){const _0x2775ec=_0x2775();return _0x7d93=function(_0x7d9313,_0x3b0b8c){_0x7d9313=_0x7d9313-0x189;let _0x5aa4a7=_0x2775ec[_0x7d9313];return _0x5aa4a7;},_0x7d93(_0x7a0ac3,_0x8a997b);}function generateNonce(){const _0x49e1be=_0x4fc7ef;return(BigInt(Date[_0x49e1be(0x199)]())-0x14aa2cab000n<<0x16n)[_0x49e1be(0x1a3)]();}async function claimFaucet(_0x3d44d0,_0x287322,_0x4f783c,_0xf6d3e8){const _0x1f2b34=_0x4fc7ef;if(!_0x287322)throw new Error(_0x1f2b34(0x1a0));!sessions[_0x287322]&&(sessions[_0x287322]={});(!sessions[_0x287322][_0x1f2b34(0x19b)]||typeof sessions[_0x287322][_0x1f2b34(0x19b)]!==_0x1f2b34(0x1ab))&&(sessions[_0x287322][_0x1f2b34(0x19b)]={});const _0x1ffe8e=sessions[_0x287322]['lastClaims'][_0xf6d3e8[_0x1f2b34(0x192)]]||0x0,_0x2d9ca3=Date[_0x1f2b34(0x199)]();if(_0x2d9ca3-_0x1ffe8e<COOLDOWN_PERIOD_MS){const _0x5233a2=COOLDOWN_PERIOD_MS-(_0x2d9ca3-_0x1ffe8e),_0x56f4ae=Math[_0x1f2b34(0x1a6)](_0x5233a2/(0x3c*0x3c*0x3e8)),_0x2e7373=Math[_0x1f2b34(0x1a6)](_0x5233a2%(0x3c*0x3c*0x3e8)/(0x3c*0x3e8));return _0x4f783c[_0x1f2b34(0x197)](colorText(_0x1f2b34(0x1a9)+_0xf6d3e8[_0x1f2b34(0x192)]+_0x1f2b34(0x1ad)+_0x56f4ae+'h\x20'+_0x2e7373+'m.',COLORS['YELLOW'])),![];}const _0x48894e=_0xf6d3e8['channelId'];if(!_0x48894e)throw new Error(_0x1f2b34(0x1bc)+_0xf6d3e8[_0x1f2b34(0x192)]+'.');try{const _0x3cf1f7=await getSessionId(_0x287322),_0x21a041=new FormData(),_0x34ca83={'type':0x2,'application_id':_0x1f2b34(0x18e),'guild_id':_0x1f2b34(0x1b7),'channel_id':_0x48894e,'session_id':_0x3cf1f7,'data':{'version':_0x1f2b34(0x19a),'id':_0x1f2b34(0x1b0),'name':_0x1f2b34(0x18d),'type':0x1,'options':[{'type':0x3,'name':'address','value':_0x3d44d0}],'application_command':{'id':_0x1f2b34(0x1b0),'name':_0x1f2b34(0x18d)},'attachments':[]},'nonce':generateNonce()};return _0x21a041[_0x1f2b34(0x1c5)](_0x1f2b34(0x1af),JSON[_0x1f2b34(0x1b4)](_0x34ca83)),await axios['post'](_0x1f2b34(0x1c2),_0x21a041,{'headers':{'Authorization':_0x287322,..._0x21a041['getHeaders']()}}),sessions[_0x287322][_0x1f2b34(0x19b)][_0xf6d3e8['name']]=Date[_0x1f2b34(0x199)](),saveSessions(),!![];}catch(_0x129597){_0x129597[_0x1f2b34(0x1a4)]&&_0x129597[_0x1f2b34(0x1a4)][_0x1f2b34(0x1c3)]===0x191&&_0x4f783c[_0x1f2b34(0x197)](colorText(_0x1f2b34(0x1bb),COLORS['RED']));const _0x273e4e=_0x129597[_0x1f2b34(0x1a4)]?.[_0x1f2b34(0x18f)]?.[_0x1f2b34(0x1b8)]||_0x129597[_0x1f2b34(0x1b8)];_0x273e4e[_0x1f2b34(0x1ae)]()['includes']('session')&&(sessions[_0x287322]&&delete sessions[_0x287322][_0x1f2b34(0x1a1)],saveSessions());throw new Error(_0x1f2b34(0x1a7)+_0x273e4e);}}module['exports']={'claimFaucet':claimFaucet,'sessions':sessions,'saveSessions':saveSessions};