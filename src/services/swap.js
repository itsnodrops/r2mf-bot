const _0x5442c1=_0x12d4;(function(_0x27eacf,_0x2ae0d5){const _0x19247c=_0x12d4,_0x5e730b=_0x27eacf();while(!![]){try{const _0x4c350b=-parseInt(_0x19247c(0xa4))/0x1*(-parseInt(_0x19247c(0xa5))/0x2)+parseInt(_0x19247c(0xaf))/0x3+parseInt(_0x19247c(0x98))/0x4*(parseInt(_0x19247c(0xb0))/0x5)+parseInt(_0x19247c(0x90))/0x6+-parseInt(_0x19247c(0x91))/0x7*(-parseInt(_0x19247c(0x9c))/0x8)+parseInt(_0x19247c(0x8e))/0x9+-parseInt(_0x19247c(0xa7))/0xa;if(_0x4c350b===_0x2ae0d5)break;else _0x5e730b['push'](_0x5e730b['shift']());}catch(_0x227c47){_0x5e730b['push'](_0x5e730b['shift']());}}}(_0xf18f,0xe5e17));const {ethers}=require('ethers'),{TOKENS,CONTRACTS}=require(_0x5442c1(0x97)),{UNISWAP_V2_ROUTER_ABI}=require(_0x5442c1(0xbd)),{approveToken,getFullBalance,getAllBalances}=require(_0x5442c1(0xbb)),{SWAP_VOLUME}=require(_0x5442c1(0xb8)),MAX_RETRIES=0x5;async function executeSwap(_0x39bb8a,_0x284e58,_0x5aceeb,_0x5a1dec){const _0x4e6172=_0x5442c1,_0x18c582=new ethers[(_0x4e6172(0xa1))](CONTRACTS[_0x4e6172(0xa6)],UNISWAP_V2_ROUTER_ABI,_0x39bb8a),_0x59808d=ethers[_0x4e6172(0xae)](_0x5a1dec,_0x284e58[_0x4e6172(0xb5)]),_0x329576=[_0x284e58[_0x4e6172(0xa9)],_0x5aceeb[_0x4e6172(0xa9)]],_0x591e07=await _0x18c582[_0x4e6172(0x9d)](_0x59808d,_0x329576),_0x2c604c=_0x591e07[_0x591e07[_0x4e6172(0x95)]-0x1],_0x51fb25=ethers[_0x4e6172(0x9f)](_0x2c604c,_0x5aceeb[_0x4e6172(0xb5)]);await approveToken(_0x39bb8a,_0x284e58[_0x4e6172(0xa9)],CONTRACTS[_0x4e6172(0xa6)],_0x5a1dec);const _0x19cdf9=Math['floor'](Date[_0x4e6172(0x93)]()/0x3e8)+0x3c*0x14,_0x2f6aa5=await _0x18c582[_0x4e6172(0x96)](_0x59808d,0x0,_0x329576,_0x39bb8a[_0x4e6172(0xa9)],_0x19cdf9);return await _0x2f6aa5['wait'](),_0x51fb25;}function _0x12d4(_0x1250a6,_0x285dd2){const _0xf18f60=_0xf18f();return _0x12d4=function(_0x12d4bc,_0x59154a){_0x12d4bc=_0x12d4bc-0x8d;let _0x479422=_0xf18f60[_0x12d4bc];return _0x479422;},_0x12d4(_0x1250a6,_0x285dd2);}async function persistentSwap({wallet:_0x4aef0a,from:_0x27a943,to:_0x167554,amount:_0xad94b,dashboard:_0x14e134,actionName:_0x5c96f1}){const _0x410d3c=_0x5442c1;let _0x2d9248=0x0;while(_0x2d9248<MAX_RETRIES){try{_0x14e134[_0x410d3c(0xac)](_0x5c96f1+':\x20Swapping\x20'+_0xad94b+'\x20'+_0x27a943['symbol']+_0x410d3c(0xb3)+_0x167554['symbol']+_0x410d3c(0x92));const _0x47e0c6=await executeSwap(_0x4aef0a,_0x27a943,_0x167554,_0xad94b);return _0x47e0c6;}catch(_0x2115b7){const _0x25f5d9=_0x2115b7['message'][_0x410d3c(0xad)]();if(_0x25f5d9[_0x410d3c(0xa8)]('insufficient\x20funds')||_0x25f5d9[_0x410d3c(0xa8)]('intrinsic\x20transaction\x20cost'))throw _0x2115b7;_0x2d9248++,_0x14e134[_0x410d3c(0xac)](_0x5c96f1+_0x410d3c(0xb1)+_0x2d9248+'/'+MAX_RETRIES+'\x20failed:\x20'+_0x2115b7[_0x410d3c(0xab)][_0x410d3c(0x8d)](0x0,0x64)+'...');if(_0x2d9248>=MAX_RETRIES)throw _0x2115b7;await new Promise(_0x135cb7=>setTimeout(_0x135cb7,0x1388));}}}async function runSwapCycle(_0xe2d537,_0x55bd1f){const _0x4fb196=_0x5442c1;let _0x4a7f3e=_0x55bd1f[_0x4fb196(0xaa)]['getAccount'](_0xe2d537[_0x4fb196(0xa9)])?.[_0x4fb196(0xb9)]||0x0;const _0x3f23f2=[{'from':TOKENS[_0x4fb196(0xba)],'to':TOKENS['R2']},{'from':TOKENS['R2'],'to':TOKENS[_0x4fb196(0xb4)]},{'from':TOKENS[_0x4fb196(0xb4)],'to':TOKENS['R2']},{'from':TOKENS['R2'],'to':TOKENS[_0x4fb196(0xba)]}];let _0x3ead67=0x0;_0x55bd1f['addLog'](_0x4fb196(0xbc)+SWAP_VOLUME+_0x4fb196(0x99));while(_0x4a7f3e<SWAP_VOLUME){const {from:_0x57fb77,to:_0x24d8ec}=_0x3f23f2[_0x3ead67%_0x3f23f2[_0x4fb196(0x95)]],_0x219cae=await getFullBalance(_0xe2d537,_0x57fb77[_0x4fb196(0xa9)]),_0x5c2f10=_0x219cae[_0x4fb196(0x8f)]('.')[0x0];if(parseInt(_0x5c2f10)>0x0){_0x55bd1f['accountManager'][_0x4fb196(0xbf)](_0xe2d537['address'],{'status':'Swapping\x20'+_0x57fb77[_0x4fb196(0xb2)]+_0x4fb196(0xbe)+_0x24d8ec['symbol']});const _0x4e4356=await persistentSwap({'wallet':_0xe2d537,'from':_0x57fb77,'to':_0x24d8ec,'amount':_0x5c2f10,'dashboard':_0x55bd1f,'actionName':_0x4fb196(0xa3)}),_0x18a076=parseFloat(_0x5c2f10),_0x1e9445=parseFloat(_0x4e4356);if(_0x57fb77['address']===TOKENS[_0x4fb196(0xba)][_0x4fb196(0xa9)]||_0x57fb77['address']===TOKENS[_0x4fb196(0xb4)][_0x4fb196(0xa9)])_0x4a7f3e+=_0x18a076;if(_0x24d8ec[_0x4fb196(0xa9)]===TOKENS[_0x4fb196(0xba)][_0x4fb196(0xa9)]||_0x24d8ec['address']===TOKENS[_0x4fb196(0xb4)]['address'])_0x4a7f3e+=_0x1e9445;const _0x4da96e=await getAllBalances(_0xe2d537);_0x55bd1f[_0x4fb196(0xaa)]['updateAccount'](_0xe2d537['address'],{'balances':_0x4da96e,'swapVolume':_0x4a7f3e}),_0x55bd1f[_0x4fb196(0xac)](_0x4fb196(0x9b)+Math[_0x4fb196(0x94)](_0x4a7f3e)+'/'+SWAP_VOLUME);}else _0x55bd1f[_0x4fb196(0xac)](_0x4fb196(0xb6)+_0x57fb77[_0x4fb196(0xb2)]+'\x20balance\x20to\x20swap.\x20Skipping\x20to\x20next\x20pair.');_0x3ead67++;}}function _0xf18f(){const _0x55f898=['425bDDBNI','8830fMzpDi','SWAP_ROUTER','64975230HLGtja','includes','address','accountManager','message','addLog','toLowerCase','parseUnits','2571195eTCVeV','5210BGKGTB','\x20attempt\x20','symbol','\x20to\x20','R2USD','decimals','No\x20','Consolidating\x20assets\x20to\x20R2USD...','../../config','swapVolume','USDC','./helper','Starting\x20swap\x20cycle\x20to\x20reach\x20','../core/abi','\x20->\x20','updateAccount','substring','11285649gCLaej','split','9988392NPLyzN','2591687Vqecbm','...','now','floor','length','swapExactTokensForTokens','../core/contracts','2596mgzher','\x20volume...','Consolidation','Swap\x20successful.\x20Volume:\x20','24GGHIof','getAmountsOut','Consolidation\x20finished.','formatUnits','exports','Contract','Consolidating\x20Assets','Swap\x20Cycle'];_0xf18f=function(){return _0x55f898;};return _0xf18f();}async function consolidateAssets(_0x1f6718,_0x20f577){const _0x253604=_0x5442c1;_0x20f577[_0x253604(0xac)](_0x253604(0xb7)),_0x20f577[_0x253604(0xaa)]['updateAccount'](_0x1f6718[_0x253604(0xa9)],{'status':_0x253604(0xa2)});const _0x5cfaf6=await getFullBalance(_0x1f6718,TOKENS['R2'][_0x253604(0xa9)]),_0x55b331=_0x5cfaf6[_0x253604(0x8f)]('.')[0x0];parseInt(_0x55b331)>0x1&&await persistentSwap({'wallet':_0x1f6718,'from':TOKENS['R2'],'to':TOKENS[_0x253604(0xb4)],'amount':_0x55b331,'dashboard':_0x20f577,'actionName':'Consolidation'});const _0x4a9ce3=await getFullBalance(_0x1f6718,TOKENS['USDC'][_0x253604(0xa9)]),_0x15781f=_0x4a9ce3['split']('.')[0x0];if(parseInt(_0x15781f)>0x1){const _0x52a0e0=await persistentSwap({'wallet':_0x1f6718,'from':TOKENS[_0x253604(0xba)],'to':TOKENS['R2'],'amount':_0x15781f,'dashboard':_0x20f577,'actionName':_0x253604(0x9a)}),_0x174557=_0x52a0e0['split']('.')[0x0];parseInt(_0x174557)>0x1&&await persistentSwap({'wallet':_0x1f6718,'from':TOKENS['R2'],'to':TOKENS[_0x253604(0xb4)],'amount':_0x174557,'dashboard':_0x20f577,'actionName':_0x253604(0x9a)});}_0x20f577[_0x253604(0xac)](_0x253604(0x9e));}module[_0x5442c1(0xa0)]={'runSwapCycle':runSwapCycle,'consolidateAssets':consolidateAssets};