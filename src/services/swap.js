function _0x2033(_0x11e1b7,_0x3791e4){const _0x524e0c=_0x524e();return _0x2033=function(_0x20335c,_0x3c2b6e){_0x20335c=_0x20335c-0x105;let _0x15b0ee=_0x524e0c[_0x20335c];return _0x15b0ee;},_0x2033(_0x11e1b7,_0x3791e4);}const _0x2363ef=_0x2033;(function(_0xdacfad,_0x5602ed){const _0x111ccc=_0x2033,_0x23a814=_0xdacfad();while(!![]){try{const _0x2fb8fe=parseInt(_0x111ccc(0x114))/0x1*(parseInt(_0x111ccc(0x10f))/0x2)+parseInt(_0x111ccc(0x13d))/0x3+-parseInt(_0x111ccc(0x13b))/0x4+-parseInt(_0x111ccc(0x120))/0x5*(-parseInt(_0x111ccc(0x13e))/0x6)+parseInt(_0x111ccc(0x12d))/0x7*(parseInt(_0x111ccc(0x130))/0x8)+-parseInt(_0x111ccc(0x135))/0x9*(-parseInt(_0x111ccc(0x136))/0xa)+-parseInt(_0x111ccc(0x10e))/0xb;if(_0x2fb8fe===_0x5602ed)break;else _0x23a814['push'](_0x23a814['shift']());}catch(_0xf76553){_0x23a814['push'](_0x23a814['shift']());}}}(_0x524e,0x60e18));function _0x524e(){const _0x3341da=['length','16qfSBlz','../utils/dashboard','accountManager','swapVolume','address','2565VhBcIU','4000JtiQUG','uint256','Consolidation\x20finished.','Swap\x20Cycle','swapExactTokensForTokens','2165668wJoVoO','\x20->\x20','1096482tArgwb','1746318mMOQCI',':\x20Swapping\x20','USDC','YELLOW','Swapping\x20all\x20','intrinsic\x20transaction\x20cost','\x20attempt\x20','defaultAbiCoder','split','SWAP_ROUTER','symbol','round','8466634MMsElu','1554212ckKcJG','exports','R2USD','\x20USDC\x20to\x20R2USD...','includes','1ixvmOY','./helper','message','AbiCoder','No\x20','updateAccount','\x20failed:\x20','../core/abi','Consolidation','decimals','\x20volume...','Starting\x20swap\x20cycle\x20to\x20reach\x20','5XzusSI','getAccount','Swapping\x20','\x20to\x20','SWAP_USDC_TO_R2USD_ALT','...','addLog','ethers','../../config','Contract','floor','SWAP','concat','560987vPQdgf','parseUnits'];_0x524e=function(){return _0x3341da;};return _0x524e();}const {ethers}=require(_0x2363ef(0x127)),{UNISWAP_V2_ROUTER_ABI,METHOD_IDS}=require(_0x2363ef(0x11b)),{approveToken,getFullBalance,getAllBalances,sendTransactionWithTimeout,populateTransactionWithTimeout}=require(_0x2363ef(0x115)),{SWAP_VOLUME}=require(_0x2363ef(0x128)),{colorText,COLORS}=require(_0x2363ef(0x131)),MAX_RETRIES=0x5,SLIPPAGE_TOLERANCE=0.1;async function executeSwap(_0xf8eea5,_0x32df13,_0x5ec211,_0x4e051f,_0x2b78c0,_0x55c795){const _0x183aa6=_0x2363ef,{contracts:_0x10f74e}=_0x55c795,_0x59282b=new ethers[(_0x183aa6(0x129))](_0x10f74e[_0x183aa6(0x10b)],UNISWAP_V2_ROUTER_ABI,_0xf8eea5),_0x25f6e5=ethers[_0x183aa6(0x12e)](_0x4e051f,_0x32df13[_0x183aa6(0x11d)]),_0x13f967=[_0x32df13[_0x183aa6(0x134)],_0x5ec211[_0x183aa6(0x134)]],_0x4065dc=await _0x59282b['getAmountsOut'](_0x25f6e5,_0x13f967),_0x34d8c3=_0x4065dc[_0x4065dc[_0x183aa6(0x12f)]-0x1],_0xc01651=BigInt(Math[_0x183aa6(0x10d)](SLIPPAGE_TOLERANCE*0x64)),_0x59c277=_0x34d8c3*(0x2710n-_0xc01651)/0x2710n,_0x2460a2=ethers['formatUnits'](_0x34d8c3,_0x5ec211['decimals']);await approveToken(_0xf8eea5,_0x32df13[_0x183aa6(0x134)],_0x10f74e['SWAP_ROUTER'],_0x4e051f,_0x2b78c0,_0x55c795);const _0x4fac71=Math['floor'](Date['now']()/0x3e8)+0x3c*0x14,_0x27443e=[_0x25f6e5,_0x59c277,_0x13f967,_0xf8eea5[_0x183aa6(0x134)],_0x4fac71],_0x4c0ea6=await populateTransactionWithTimeout(_0x59282b,_0x183aa6(0x13a),_0x27443e,_0x2b78c0);return await sendTransactionWithTimeout(_0xf8eea5,_0x4c0ea6,_0x2b78c0),_0x2460a2;}async function persistentSwap({wallet:_0x3d864b,from:_0x5dfe20,to:_0x594619,amount:_0x5b8355,dashboard:_0x49772b,actionName:_0x33f18e,network:_0x40c4e9}){const _0x61950a=_0x2363ef;let _0x145366=0x0;while(_0x145366<MAX_RETRIES){try{_0x49772b[_0x61950a(0x126)](_0x33f18e+_0x61950a(0x13f)+_0x5b8355+'\x20'+_0x5dfe20[_0x61950a(0x10c)]+_0x61950a(0x123)+_0x594619[_0x61950a(0x10c)]+_0x61950a(0x125));const _0x398155=await executeSwap(_0x3d864b,_0x5dfe20,_0x594619,_0x5b8355,_0x49772b,_0x40c4e9);return _0x398155;}catch(_0xe40d63){const _0x4f9d5a=_0xe40d63[_0x61950a(0x116)]['toLowerCase']();if(_0x4f9d5a[_0x61950a(0x113)]('insufficient\x20funds')||_0x4f9d5a[_0x61950a(0x113)](_0x61950a(0x107)))throw _0xe40d63;_0x145366++,_0x49772b['addLog'](_0x33f18e+_0x61950a(0x108)+_0x145366+'/'+MAX_RETRIES+_0x61950a(0x11a)+_0xe40d63[_0x61950a(0x116)]['substring'](0x0,0x64)+_0x61950a(0x125));if(_0x145366>=MAX_RETRIES)throw _0xe40d63;await new Promise(_0x588522=>setTimeout(_0x588522,0x1388));}}}async function runSwapCycle(_0x435d63,_0x3dcab0,_0x53ad4e){const _0x1f4cb7=_0x2363ef,{tokens:_0x7f3b55}=_0x53ad4e;let _0x580b4d=_0x3dcab0[_0x1f4cb7(0x132)][_0x1f4cb7(0x121)](_0x435d63[_0x1f4cb7(0x134)])?.[_0x1f4cb7(0x133)]||0x0;const _0x396949=[{'from':_0x7f3b55[_0x1f4cb7(0x140)],'to':_0x7f3b55['R2']},{'from':_0x7f3b55['R2'],'to':_0x7f3b55['R2USD']},{'from':_0x7f3b55[_0x1f4cb7(0x111)],'to':_0x7f3b55['R2']},{'from':_0x7f3b55['R2'],'to':_0x7f3b55['USDC']}];let _0x5b7bec=0x0;_0x3dcab0['addLog'](_0x1f4cb7(0x11f)+SWAP_VOLUME+_0x1f4cb7(0x11e));while(_0x580b4d<SWAP_VOLUME){const {from:_0x250594,to:_0x51cfd8}=_0x396949[_0x5b7bec%_0x396949['length']],_0x3a234c=await getFullBalance(_0x435d63,_0x250594[_0x1f4cb7(0x134)]),_0x356650=_0x3a234c['split']('.')[0x0];if(parseInt(_0x356650)>0x0){_0x3dcab0['accountManager'][_0x1f4cb7(0x119)](_0x435d63[_0x1f4cb7(0x134)],{'status':_0x1f4cb7(0x122)+_0x250594[_0x1f4cb7(0x10c)]+_0x1f4cb7(0x13c)+_0x51cfd8[_0x1f4cb7(0x10c)]});const _0x40d354=await persistentSwap({'wallet':_0x435d63,'from':_0x250594,'to':_0x51cfd8,'amount':_0x356650,'dashboard':_0x3dcab0,'actionName':_0x1f4cb7(0x139),'network':_0x53ad4e}),_0xd07fd4=parseFloat(_0x356650),_0x7f9a48=parseFloat(_0x40d354);if(_0x250594[_0x1f4cb7(0x134)]===_0x7f3b55['USDC'][_0x1f4cb7(0x134)]||_0x250594['address']===_0x7f3b55['R2USD']['address'])_0x580b4d+=_0xd07fd4;if(_0x51cfd8['address']===_0x7f3b55[_0x1f4cb7(0x140)][_0x1f4cb7(0x134)]||_0x51cfd8[_0x1f4cb7(0x134)]===_0x7f3b55[_0x1f4cb7(0x111)]['address'])_0x580b4d+=_0x7f9a48;const _0x3a1abb=await getAllBalances(_0x435d63,_0x53ad4e);_0x3dcab0[_0x1f4cb7(0x132)][_0x1f4cb7(0x119)](_0x435d63['address'],{'balances':_0x3a1abb,'swapVolume':_0x580b4d}),_0x3dcab0[_0x1f4cb7(0x126)]('Swap\x20successful.\x20Volume:\x20'+Math[_0x1f4cb7(0x12a)](_0x580b4d)+'/'+SWAP_VOLUME);}else _0x3dcab0[_0x1f4cb7(0x126)](colorText(_0x1f4cb7(0x118)+_0x250594[_0x1f4cb7(0x10c)]+'\x20balance\x20to\x20swap.\x20Skipping\x20to\x20next\x20pair.',COLORS[_0x1f4cb7(0x105)]));_0x5b7bec++;}}async function consolidateAssets(_0x5eec6e,_0x28637f,_0x3bb99f){const _0x44b5c9=_0x2363ef,{tokens:_0x154656}=_0x3bb99f;_0x28637f[_0x44b5c9(0x126)]('Consolidating\x20assets\x20to\x20R2USD...'),_0x28637f['accountManager']['updateAccount'](_0x5eec6e[_0x44b5c9(0x134)],{'status':'Consolidating\x20Assets'});const _0x4cef6b=await getFullBalance(_0x5eec6e,_0x154656['R2'][_0x44b5c9(0x134)]),_0x204dae=_0x4cef6b['split']('.')[0x0];parseInt(_0x204dae)>0x1&&await persistentSwap({'wallet':_0x5eec6e,'from':_0x154656['R2'],'to':_0x154656[_0x44b5c9(0x111)],'amount':_0x204dae,'dashboard':_0x28637f,'actionName':_0x44b5c9(0x11c),'network':_0x3bb99f});const _0x2603c4=await getFullBalance(_0x5eec6e,_0x154656[_0x44b5c9(0x140)][_0x44b5c9(0x134)]),_0x1a9989=_0x2603c4['split']('.')[0x0];if(parseInt(_0x1a9989)>0x1){const _0x2b78eb=await persistentSwap({'wallet':_0x5eec6e,'from':_0x154656[_0x44b5c9(0x140)],'to':_0x154656['R2'],'amount':_0x1a9989,'dashboard':_0x28637f,'actionName':_0x44b5c9(0x11c),'network':_0x3bb99f}),_0x4d3d25=_0x2b78eb[_0x44b5c9(0x10a)]('.')[0x0];parseInt(_0x4d3d25)>0x1&&await persistentSwap({'wallet':_0x5eec6e,'from':_0x154656['R2'],'to':_0x154656[_0x44b5c9(0x111)],'amount':_0x4d3d25,'dashboard':_0x28637f,'actionName':_0x44b5c9(0x11c),'network':_0x3bb99f});}_0x28637f[_0x44b5c9(0x126)](_0x44b5c9(0x138));}async function swapAllUsdcToR2usd(_0x34b07d,_0x512cd7,_0x2a0a7c){const _0x3c623d=_0x2363ef,{tokens:_0x567de3,contracts:_0x5f12a7}=_0x2a0a7c,_0x15b9a1=await getFullBalance(_0x34b07d,_0x567de3[_0x3c623d(0x140)]['address']);if(parseFloat(_0x15b9a1)<=0x0){_0x512cd7[_0x3c623d(0x126)](colorText('No\x20USDC\x20balance\x20to\x20swap.',COLORS['YELLOW']));return;}await approveToken(_0x34b07d,_0x567de3[_0x3c623d(0x140)][_0x3c623d(0x134)],_0x5f12a7[_0x3c623d(0x12b)],_0x15b9a1,_0x512cd7,_0x2a0a7c),_0x512cd7[_0x3c623d(0x126)](_0x3c623d(0x106)+_0x15b9a1+_0x3c623d(0x112));const _0x412e15=ethers['parseUnits'](_0x15b9a1,_0x567de3[_0x3c623d(0x140)][_0x3c623d(0x11d)]),_0x22d926=ethers[_0x3c623d(0x12c)]([METHOD_IDS[_0x3c623d(0x124)],ethers[_0x3c623d(0x117)][_0x3c623d(0x109)]()['encode']([_0x3c623d(0x134),_0x3c623d(0x137),'uint256',_0x3c623d(0x137),_0x3c623d(0x137),_0x3c623d(0x137),_0x3c623d(0x137)],[_0x34b07d[_0x3c623d(0x134)],_0x412e15,0x0n,0x0n,0x0n,0x0n,0x0n])]),_0x1e2a83={'to':_0x5f12a7['SWAP'],'data':_0x22d926};await sendTransactionWithTimeout(_0x34b07d,_0x1e2a83,_0x512cd7);}module[_0x2363ef(0x110)]={'runSwapCycle':runSwapCycle,'consolidateAssets':consolidateAssets,'swapAllUsdcToR2usd':swapAllUsdcToR2usd};